{"version":3,"file":"package.js","sourceRoot":"","sources":["../../../../../projects/tooling/src/schematics/schematics-core/utility/package.ts"],"names":[],"mappings":";;AAEA;;GAEG;AACH,iCACI,IAAU,EACV,IAAY,EACZ,GAAW,EACX,OAAe;IAEf,IAAI,IAAI,CAAC,MAAM,CAAC,cAAc,CAAC,EAAE;QAC7B,MAAM,UAAU,GAAG,IAAI,CAAC,IAAI,CAAC,cAAc,CAAE,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC;QAChE,MAAM,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,UAAU,CAAC,CAAC;QACpC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE;YACb,IAAI,CAAC,IAAI,CAAC,GAAG,EAAE,CAAC;SACnB;QAED,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,EAAE;YAClB,IAAI,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,GAAG,OAAO,CAAC;SAC7B;QAED,IAAI,CAAC,SAAS,CAAC,cAAc,EAAE,IAAI,CAAC,SAAS,CAAC,IAAI,EAAE,IAAI,EAAE,CAAC,CAAC,CAAC,CAAC;KACjE;IAED,OAAO,IAAI,CAAC;AAChB,CAAC;AArBD,0DAqBC","sourcesContent":["import { Tree } from '@angular-devkit/schematics';\r\n\r\n/**\r\n * Adds a package to the package.json\r\n */\r\nexport function addPackageToPackageJson(\r\n    host: Tree,\r\n    type: string,\r\n    pkg: string,\r\n    version: string\r\n): Tree {\r\n    if (host.exists('package.json')) {\r\n        const sourceText = host.read('package.json')!.toString('utf-8');\r\n        const json = JSON.parse(sourceText);\r\n        if (!json[type]) {\r\n            json[type] = {};\r\n        }\r\n\r\n        if (!json[type][pkg]) {\r\n            json[type][pkg] = version;\r\n        }\r\n\r\n        host.overwrite('package.json', JSON.stringify(json, null, 2));\r\n    }\r\n\r\n    return host;\r\n}\r\n"]}